(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197,456],{172:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},255:(e,r,a)=>{"use strict";function t(e){let{moduleIds:r}=e;return null}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return t}}),a(5155),a(7650),a(5744),a(589)},1450:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var t=a(5155),o=a(6408),s=a(4601),n=a(172),i=a(5028),l=a(8010);let c=(0,i.default)(()=>Promise.all([a.e(186),a.e(737),a.e(467),a.e(723),a.e(940),a.e(278)]).then(a.bind(a,1940)).then(e=>({default:e.GenerationWizard})),{loadableGenerated:{webpack:()=>[1940]},loading:()=>(0,t.jsx)("div",{className:"flex min-h-[600px] items-center justify-center bg-gradient-to-br from-background via-background to-primary/5",children:(0,t.jsxs)(o.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"flex flex-col items-center gap-6 p-8",children:[(0,t.jsxs)(o.P.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"relative",children:[(0,t.jsx)(s.A,{className:"size-12 text-primary"}),(0,t.jsx)(o.P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0",children:(0,t.jsx)(n.A,{className:"size-12 text-primary/60"})})]}),(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)(o.P.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg font-semibold",children:"Preparando seu assistente jur\xeddico"}),(0,t.jsx)(o.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"max-w-md text-sm text-muted-foreground",children:"Carregando ferramentas de IA especializadas para gera\xe7\xe3o de documentos jur\xeddicos..."})]}),(0,t.jsxs)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)("div",{className:"size-2 animate-pulse rounded-full bg-primary"}),(0,t.jsx)("span",{children:"Intelig\xeancia Artificial Especializada"})]})]})})});function u(){return(0,t.jsx)(l.OnboardingGuard,{children:(0,t.jsx)(c,{})})}},2146:(e,r,a)=>{"use strict";function t(e){let{reason:r,children:a}=e;return a}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return t}}),a(5262)},3501:(e,r,a)=>{Promise.resolve().then(a.bind(a,1450))},4054:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{bindSnapshot:function(){return n},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class t{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let o="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return o?new o:new t}function n(e){return o?o.bind(e):t.bind(e)}function i(){return o?o.snapshot():function(e,...r){return e(...r)}}},4601:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(157).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},5028:(e,r,a)=>{"use strict";a.d(r,{default:()=>o.a});var t=a(6645),o=a.n(t)},5744:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return t.workAsyncStorageInstance}});let t=a(7828)},6104:(e,r,a)=>{"use strict";a.d(r,{G:()=>i,x:()=>l});var t=a(6864),o=a(3915),s=a(9509);let n={apiKey:s.env.NEXT_PUBLIC_FIREBASE_API_KEY||"your-api-key",authDomain:s.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"your-auth-domain",projectId:s.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"your-project-id",storageBucket:s.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"your-storage-bucket",messagingSenderId:s.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"your-messaging-sender-id",appId:s.env.NEXT_PUBLIC_FIREBASE_APP_ID||"your-app-id"},i="your-api-key"!==n.apiKey,l=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)(n);i&&(0,t.P5)(l)},6645:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let t=a(8229)._(a(7357));function o(e,r){var a;let o={};"function"==typeof e&&(o.loader=e);let s={...o,...r};return(0,t.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},7357:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let t=a(5155),o=a(2115),s=a(2146);function n(e){return{default:e&&"default"in e?e.default:e}}a(255);let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},l=function(e){let r={...i,...e},a=(0,o.lazy)(()=>r.loader().then(n)),l=r.loading;function c(e){let n=l?(0,t.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,i=!r.ssr||!!r.loading,c=i?o.Suspense:o.Fragment,u=r.ssr?(0,t.jsxs)(t.Fragment,{children:[null,(0,t.jsx)(a,{...e})]}):(0,t.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(a,{...e})});return(0,t.jsx)(c,{...i?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},7828:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return t}});let t=(0,a(4054).createAsyncLocalStorage)()},8010:(e,r,a)=>{"use strict";a.d(r,{OnboardingGuard:()=>l});var t=a(5155),o=a(172),s=a(5695),n=a(2115),i=a(8030);function l(e){let{children:r}=e,{user:a,loading:l,userProfile:c}=(0,i.A)(),u=(0,s.useRouter)(),d=(0,s.usePathname)(),[p,m]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(l||!u)return;let e="/login"===d||"/signup"===d;if(!a)return void(e?m(!0):u.replace("/login"));if(c){if(c.primeiro_acesso)return void("/onboarding"!==d?u.replace("/onboarding"):m(!0));if(!c.initial_setup_complete)return void(["/workspace","/workspace/success","/agente/criar","/settings","/onboarding/success"].some(e=>d.startsWith(e))?m(!0):u.replace("/workspace"));["/login","/signup","/onboarding","/workspace","/workspace/success"].some(e=>d.startsWith(e))?u.replace("/"):m(!0)}},[a,c,l,d,u]),p)?(0,t.jsx)(t.Fragment,{children:r}):(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,t.jsx)(o.A,{className:"size-8 animate-spin text-primary"})})}},8030:(e,r,a)=>{"use strict";a.d(r,{A:()=>d,AuthProvider:()=>u});var t=a(5155),o=a(3004),s=a(5695),n=a(2115),i=a(6104),l=a(9623);let c=(0,n.createContext)({user:null,userProfile:null,loading:!0,error:null,login:async()=>{},signup:async()=>{},loginWithGoogle:async()=>{},logout:()=>{},updateUserProfileState:()=>{},clearError:()=>{}}),u=e=>{let{children:r}=e,[a,u]=(0,n.useState)(null),[d,p]=(0,n.useState)(null),[m,f]=(0,n.useState)(!0),[g,_]=(0,n.useState)(null),y=(0,s.useRouter)();(0,n.useEffect)(()=>{if(!i.G){let e=localStorage.getItem("lexai_mock_user"),r=localStorage.getItem("lexai_mock_userProfile");e&&u(JSON.parse(e)),r&&p(JSON.parse(r)),f(!1);return}let e=(0,o.xI)(i.x),r=(0,o.hg)(e,async e=>{f(!0);try{if(e){u(e);let r=await (0,l.VM)(e.uid);r.success&&r.data?p(r.data):(console.error("Erro ao carregar perfil do usu\xe1rio:",r.error),p(null))}else u(null),p(null)}catch(e){console.error("Erro n\xe3o tratado no onAuthStateChanged:",e),u(null),p(null)}finally{f(!1)}});return()=>r()},[]);let h=(e,r)=>({uid:"test-user-123",email:e||"test@lexai.com",displayName:r||"Advogado Teste"}),x=e=>({uid:"new-user-".concat(Date.now()),email:e||"novo@lexai.com",displayName:"Novo Usu\xe1rio"}),b=async(e,r)=>{try{if(f(!0),_(null),i.G){let a=(0,o.xI)(i.x);await (0,o.x9)(a,e,r),y.push("/")}else if("test@lexai.com"===e&&"test123"===r){let e=h();u(e);let r={cargo:"Advogado(a)",areas_atuacao:["Direito Civil"],primeiro_acesso:!1,initial_setup_complete:!0,data_criacao:new Date,workspaces:[{name:"Workspace Pessoal"}]};p(r),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(r)),y.push("/")}else throw Error("Email ou senha incorretos")}catch(e){console.error("Erro no login:",e),_(e.message||"Erro ao fazer login")}finally{f(!1)}},v=async(e,r,a)=>{try{if(f(!0),_(null),i.G){let a=(0,o.xI)(i.x);await (0,o.eJ)(a,e,r),y.push("/onboarding")}else{let r=x(e);u(r);let t={cargo:(null==a?void 0:a.cargo)||"",areas_atuacao:(null==a?void 0:a.areas_atuacao)||[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};p(t),localStorage.setItem("lexai_mock_user",JSON.stringify(r)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(t)),y.push("/onboarding")}}catch(e){console.error("Erro no cadastro:",e),_(e.message||"Erro ao criar conta")}finally{f(!1)}},k=async()=>{try{if(f(!0),_(null),i.G){let e=(0,o.xI)(i.x),r=new o.HF;await (0,o.df)(e,r),y.push("/")}else{let e=h("google@lexai.com","Usu\xe1rio Google");u(e);let r={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};p(r),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(r)),y.push("/onboarding")}}catch(e){console.error("Erro no login com Google:",e),_(e.message||"Erro ao fazer login com Google")}finally{f(!1)}};return(0,t.jsx)(c.Provider,{value:{user:a,userProfile:d,loading:m,error:g,login:b,signup:v,loginWithGoogle:k,logout:()=>{if(i.G){let e=(0,o.xI)(i.x);(0,o.CI)(e)}else u(null),p(null),localStorage.removeItem("lexai_mock_user"),localStorage.removeItem("lexai_mock_userProfile"),y.push("/login")},updateUserProfileState:e=>{p(r=>{let a=r?{...r,...e}:null;return!i.G&&a&&localStorage.setItem("lexai_mock_userProfile",JSON.stringify(a)),a})},clearError:()=>{_(null)}},children:r})},d=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9623:(e,r,a)=>{"use strict";a.d(r,{VM:()=>i,eg:()=>c});var t=a(5317),o=a(6104);let s=o.G?(0,t.aU)(o.x):null;function n(e,r){return e instanceof Error?"code"in e?{code:e.code,message:function(e){switch(e){case"permission-denied":return"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.";case"not-found":return"Dados n\xe3o encontrados.";case"unavailable":return"Servi\xe7o temporariamente indispon\xedvel. Tente novamente.";case"cancelled":return"Opera\xe7\xe3o cancelada.";case"deadline-exceeded":return"Tempo limite excedido. Verifique sua conex\xe3o.";case"unauthenticated":return"Voc\xea precisa estar logado para realizar esta a\xe7\xe3o.";default:return"Ocorreu um erro inesperado. Tente novamente."}}(e.code),details:e.message}:{code:"unknown",message:"Erro durante ".concat(r,": ").concat(e.message),details:e.stack}:{code:"unknown",message:"Erro desconhecido durante ".concat(r),details:String(e)}}async function i(e){try{if(!o.G||!s)return{data:{cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},error:null,success:!0};if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};let a=(0,t.H9)(s,"usuarios",e),n=await (0,t.x7)(a);if(n.exists()){var r;let e=n.data();return{data:{...e,workspaces:e.workspaces||[],initial_setup_complete:null!=(r=e.initial_setup_complete)&&r},error:null,success:!0}}{let r={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},a=await l(e,{...r,data_criacao:new Date});if(!a.success)return{data:null,error:a.error,success:!1};return{data:a.data,error:null,success:!0}}}catch(e){return console.error("Erro em getUserProfile:",e),{data:null,error:n(e,"buscar perfil do usu\xe1rio"),success:!1}}}async function l(e,r){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!r)return{data:null,error:{code:"invalid-argument",message:"Dados do perfil s\xe3o obrigat\xf3rios."},success:!1};if(!o.G||!s)return console.log("[MOCK] Criando perfil para usu\xe1rio ".concat(e),r),{data:{...r,initial_setup_complete:r.initial_setup_complete||!1,data_criacao:new Date,workspaces:r.workspaces||[]},error:null,success:!0};let a=(0,t.H9)(s,"usuarios",e),n={...r,initial_setup_complete:r.initial_setup_complete||!1,data_criacao:(0,t.O5)(),workspaces:r.workspaces||[]};return await (0,t.BN)(a,n),{data:{...n,data_criacao:new Date},error:null,success:!0}}catch(e){return console.error("Erro em createUserProfile:",e),{data:null,error:n(e,"criar perfil do usu\xe1rio"),success:!1}}}async function c(e,r){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!r||0===Object.keys(r).length)return{data:null,error:{code:"invalid-argument",message:"Dados para atualiza\xe7\xe3o s\xe3o obrigat\xf3rios."},success:!1};if(!o.G||!s)return console.log("[MOCK] Atualizando perfil para usu\xe1rio ".concat(e),r),{data:r,error:null,success:!0};let a=(0,t.H9)(s,"usuarios",e),n={...r};return delete n.data_criacao,await (0,t.BN)(a,n,{merge:!0}),{data:n,error:null,success:!0}}catch(e){return console.error("Erro em updateUserProfile:",e),{data:null,error:n(e,"atualizar perfil do usu\xe1rio"),success:!1}}}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,644,408,365,441,684,358],()=>r(3501)),_N_E=e.O()}]);