(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9566],{285:(e,a,r)=>{"use strict";r.d(a,{$:()=>c});var t=r(5155),s=r(4253),i=r(2085),o=r(2115),l=r(9434);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,a)=>{let{className:r,variant:i,size:o,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(n({variant:i,size:o,className:r})),ref:a,...d})});c.displayName="Button"},3364:(e,a,r)=>{"use strict";r.d(a,{v:()=>i});var t=r(5155),s=r(2115);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{announceChanges:a=!0,focusDelay:r=100}=e,i=(0,s.useRef)(null),o=(0,s.useCallback)((e,t)=>{setTimeout(()=>{let r=document.getElementById(e);r&&(r.focus(),a&&t&&i.current&&(i.current.textContent=t,setTimeout(()=>{i.current&&(i.current.textContent="")},1e3)))},r)},[a,r]),l=(0,s.useCallback)((e,t)=>{setTimeout(()=>{let r=document.getElementById(e);if(r){let e=r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];e&&(e.focus(),a&&t&&i.current&&(i.current.textContent=t,setTimeout(()=>{i.current&&(i.current.textContent="")},1e3)))}},r)},[a,r]),n=(0,s.useCallback)((e,t)=>{setTimeout(()=>{let r=document.getElementById(e);r&&(r.hasAttribute("tabindex")||r.setAttribute("tabindex","-1"),r.focus(),a&&t&&i.current&&(i.current.textContent=t,setTimeout(()=>{i.current&&(i.current.textContent="")},1e3)))},r)},[a,r]);return{focusElement:o,focusFirstElement:l,focusHeading:n,announce:(0,s.useCallback)(e=>{i.current&&(i.current.textContent=e,setTimeout(()=>{i.current&&(i.current.textContent="")},1e3))},[]),AnnouncementRegion:()=>(0,t.jsx)("div",{ref:i,"aria-live":"polite","aria-atomic":"true",className:"sr-only"})}}},5057:(e,a,r)=>{"use strict";r.d(a,{J:()=>c});var t=r(5155),s=r(968),i=r(2085),o=r(2115),l=r(9434);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)(s.b,{ref:a,className:(0,l.cn)(n(),r),...i})});c.displayName=s.b.displayName},5411:(e,a,r)=>{Promise.resolve().then(r.bind(r,7726))},5662:(e,a,r)=>{"use strict";r.d(a,{O:()=>t,c:()=>s});let t=["Advogado(a)","Promotor(a) de Justi\xe7a","Juiz(a)","Procurador(a)","Desembargador(a)","Defensor(a) P\xfablico(a)","Delegado(a)","Escriv\xe3o(\xe3)","Analista Jur\xeddico","Assessor(a) Jur\xeddico(a)","Estudante de Direito","Outro"],s=["Direito Penal","Direito Tribut\xe1rio","Direito Civil","Direito Ambiental","Direito Constitucional","Direito Administrativo","Direito do Trabalho","Direito Previdenci\xe1rio","Direito Empresarial","Direito Imobili\xe1rio","Direito Eleitoral","Direito do Consumidor","Direito Internacional","Direito Digital","Direito Processual Civil","Direito Processual Penal","Propriedade Intelectual"]},6104:(e,a,r)=>{"use strict";r.d(a,{G:()=>o,x:()=>l});var t=r(6864),s=r(3915);let i={apiKey:"AIzaSyBlznzwe_cuk3X2QCXHYpqCx6UGh1HOxSI",authDomain:"lexai-ef0ab.firebaseapp.com",projectId:"lexai-ef0ab",storageBucket:"lexai-ef0ab.firebasestorage.app",messagingSenderId:"506027619372",appId:"1:506027619372:web:9ccd54f560d1abbc970d89"},o="your-api-key"!==i.apiKey,l=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(i);o&&(0,t.P5)(l)},6695:(e,a,r)=>{"use strict";r.d(a,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>o,aR:()=>l,wL:()=>u});var t=r(5155),s=r(2115),i=r(9434);let o=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});o.displayName="Card";let l=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let n=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});n.displayName="CardTitle";let c=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},7726:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>L});var t=r(5155),s=r(221),i=r(6408),o=r(760),l=r(9876),n=r(1721),c=r(7082),d=r(1203),u=r(9968),m=r(8376),p=r(172),x=r(5695),f=r(2115),g=r(2177),h=r(5594),b=r(285),y=r(6695),v=r(4253),j=r(5057),N=r(9434);let w=g.Op,_=f.createContext({}),k=e=>{let{...a}=e;return(0,t.jsx)(_.Provider,{value:{name:a.name},children:(0,t.jsx)(g.xI,{...a})})},z=()=>{let e=f.useContext(_),a=f.useContext(C),{getFieldState:r,formState:t}=(0,g.xW)(),s=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=a;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...s}},C=f.createContext({}),P=f.forwardRef((e,a)=>{let{className:r,...s}=e,i=f.useId();return(0,t.jsx)(C.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:a,className:(0,N.cn)("space-y-2",r),...s})})});P.displayName="FormItem",f.forwardRef((e,a)=>{let{className:r,...s}=e,{error:i,formItemId:o}=z();return(0,t.jsx)(j.J,{ref:a,className:(0,N.cn)(i&&"text-destructive",r),htmlFor:o,...s})}).displayName="FormLabel";let S=f.forwardRef((e,a)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:o,formMessageId:l}=z();return(0,t.jsx)(v.DX,{ref:a,id:i,"aria-describedby":s?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!s,...r})});S.displayName="FormControl",f.forwardRef((e,a)=>{let{className:r,...s}=e,{formDescriptionId:i}=z();return(0,t.jsx)("p",{ref:a,id:i,className:(0,N.cn)("text-sm text-muted-foreground",r),...s})}).displayName="FormDescription";let D=f.forwardRef((e,a)=>{var r;let{className:s,children:i,...o}=e,{error:l,formMessageId:n}=z(),c=l?String(null!=(r=null==l?void 0:l.message)?r:""):i;return c?(0,t.jsx)("p",{ref:a,id:n,className:(0,N.cn)("text-sm font-medium text-destructive",s),...o,children:c}):null});D.displayName="FormMessage";var I=r(9409),A=r(5787);let E=(0,r(2085).F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),R=f.createContext({size:"default",variant:"default"}),O=f.forwardRef((e,a)=>{let{className:r,variant:s,size:i,children:o,...l}=e;return(0,t.jsx)(A.bL,{ref:a,className:(0,N.cn)("flex items-center justify-center gap-1",r),...l,children:(0,t.jsx)(R.Provider,{value:{variant:s,size:i},children:o})})});O.displayName=A.bL.displayName;let T=f.forwardRef((e,a)=>{let{className:r,children:s,variant:i,size:o,...l}=e,n=f.useContext(R);return(0,t.jsx)(A.q7,{ref:a,className:(0,N.cn)(E({variant:n.variant||i,size:n.size||o}),r),...l,children:s})});T.displayName=A.q7.displayName;var F=r(8030),J=r(3364),G=r(5662),B=r(9623);let U=h.z.object({cargo:h.z.string({required_error:"Por favor, selecione um cargo."}),areas_atuacao:h.z.array(h.z.string()).min(1,"Selecione pelo menos uma \xe1rea de atua\xe7\xe3o.")});function V(e){let{onNext:a}=e;return(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.16,1,.3,1]},className:"mx-auto max-w-3xl text-center",children:[(0,t.jsx)(i.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.6,delay:.2,type:"spring"},className:"shadow-apple-lg mx-auto mb-12 flex size-24 items-center justify-center rounded-3xl bg-gradient-to-br from-primary via-primary to-primary/80",children:(0,t.jsx)(l.A,{className:"size-10 text-white"})}),(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-16 space-y-8",children:[(0,t.jsxs)("h1",{className:"text-display",children:["Ol\xe1! Bem-vindo(a) ao ",(0,t.jsx)("span",{className:"text-primary",children:"LexAI"})]}),(0,t.jsx)("p",{className:"text-body-large mx-auto max-w-2xl leading-relaxed text-muted-foreground",children:"Sua assistente jur\xeddica inteligente est\xe1 quase pronta. Vamos personalizar sua experi\xeancia em apenas 2 minutos?"})]}),(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mb-16 grid gap-8 md:grid-cols-3",children:[(0,t.jsxs)(i.P.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.3},className:"surface-elevated shadow-apple-sm hover:shadow-apple-md flex flex-col items-center space-y-4 rounded-2xl border border-border/50 p-6",children:[(0,t.jsx)("div",{className:"shadow-apple-sm flex size-16 items-center justify-center rounded-2xl border border-blue-200/50 bg-gradient-to-br from-blue-50 to-indigo-100 dark:border-blue-800/50 dark:from-blue-950/50 dark:to-indigo-950/50",children:(0,t.jsx)(n.A,{className:"size-8 text-blue-600 dark:text-blue-400"})}),(0,t.jsx)("h3",{className:"text-headline font-semibold",children:"Perfil Personalizado"}),(0,t.jsx)("p",{className:"text-caption text-center leading-relaxed",children:"Conte-nos sobre sua atua\xe7\xe3o profissional"})]}),(0,t.jsxs)(i.P.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.3},className:"surface-elevated shadow-apple-sm hover:shadow-apple-md flex flex-col items-center space-y-4 rounded-2xl border border-border/50 p-6",children:[(0,t.jsx)("div",{className:"shadow-apple-sm flex size-16 items-center justify-center rounded-2xl border border-green-200/50 bg-gradient-to-br from-green-50 to-emerald-100 dark:border-green-800/50 dark:from-green-950/50 dark:to-emerald-950/50",children:(0,t.jsx)(c.A,{className:"size-8 text-green-600 dark:text-green-400"})}),(0,t.jsx)("h3",{className:"text-headline font-semibold",children:"\xc1reas de Atua\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-caption text-center leading-relaxed",children:"Selecione suas \xe1reas de especialidade"})]}),(0,t.jsxs)(i.P.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.3},className:"surface-elevated shadow-apple-sm hover:shadow-apple-md flex flex-col items-center space-y-4 rounded-2xl border border-border/50 p-6",children:[(0,t.jsx)("div",{className:"shadow-apple-sm flex size-16 items-center justify-center rounded-2xl border border-purple-200/50 bg-gradient-to-br from-purple-50 to-violet-100 dark:border-purple-800/50 dark:from-purple-950/50 dark:to-violet-950/50",children:(0,t.jsx)(d.A,{className:"size-8 text-purple-600 dark:text-purple-400"})}),(0,t.jsx)("h3",{className:"text-headline font-semibold",children:"Experi\xeancia Otimizada"}),(0,t.jsx)("p",{className:"text-caption text-center leading-relaxed",children:"IA adaptada ao seu perfil \xfanico"})]})]}),(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:(0,t.jsxs)(b.$,{size:"lg",onClick:a,className:"shadow-apple-lg hover:shadow-apple-lg h-16 bg-gradient-to-r from-primary to-primary/90 px-12 text-lg font-semibold transition-all duration-500 hover:scale-105 hover:from-primary/90 hover:to-primary/80",children:[(0,t.jsx)(l.A,{className:"mr-3 size-5"}),"Come\xe7ar configura\xe7\xe3o",(0,t.jsx)(u.A,{className:"ml-3 size-5"})]})})]})}function q(e){let{form:a,onNext:r}=e;return(0,t.jsx)(i.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},className:"w-full max-w-2xl",children:(0,t.jsxs)(y.Zp,{className:"border-primary/10 shadow-xl",children:[(0,t.jsxs)(y.aR,{className:"pb-8 text-center",children:[(0,t.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto mb-4 flex size-16 items-center justify-center rounded-2xl bg-blue-100 dark:bg-blue-900",children:(0,t.jsx)(n.A,{className:"size-8 text-blue-600 dark:text-blue-400"})}),(0,t.jsx)(y.ZB,{id:"role-step-title",className:"font-headline text-2xl",tabIndex:-1,children:"Como voc\xea atua no sistema de justi\xe7a?"}),(0,t.jsx)(y.BT,{className:"mt-2 text-base",children:"Esta informa\xe7\xe3o nos ajuda a personalizar as ferramentas e conte\xfado espec\xedficos para sua fun\xe7\xe3o."})]}),(0,t.jsxs)(y.Wu,{className:"space-y-6",children:[(0,t.jsx)(k,{control:a.control,name:"cargo",render:e=>{let{field:a}=e;return(0,t.jsxs)(P,{children:[(0,t.jsxs)(I.l6,{onValueChange:e=>{a.onChange(e),setTimeout(()=>r(),500)},defaultValue:a.value,children:[(0,t.jsx)(S,{children:(0,t.jsx)(I.bq,{className:"h-14 text-base",children:(0,t.jsx)(I.yv,{placeholder:"Selecione seu cargo ou fun\xe7\xe3o..."})})}),(0,t.jsx)(I.gC,{children:G.O.map(e=>(0,t.jsx)(I.eb,{value:e,className:"py-3 text-base",children:e},e))})]}),(0,t.jsx)(D,{})]})}}),(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-lg border border-blue-200 bg-blue-50 p-4 dark:border-blue-800 dark:bg-blue-950",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[(0,t.jsx)(m.A,{className:"size-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Por que precisamos desta informa\xe7\xe3o?"})]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-300",children:"Com base no seu cargo, vamos sugerir templates, modelos de documentos e fluxos de trabalho mais relevantes para sua atua\xe7\xe3o."})]})]})]})})}function H(e){let{form:a,isSubmitting:r}=e,s=a.watch("areas_atuacao")||[];return(0,t.jsx)(i.P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5},className:"w-full max-w-4xl",children:(0,t.jsxs)(y.Zp,{className:"border-primary/10 shadow-xl",children:[(0,t.jsxs)(y.aR,{className:"pb-8 text-center",children:[(0,t.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mx-auto mb-4 flex size-16 items-center justify-center rounded-2xl bg-green-100 dark:bg-green-900",children:(0,t.jsx)(c.A,{className:"size-8 text-green-600 dark:text-green-400"})}),(0,t.jsx)(y.ZB,{id:"areas-step-title",className:"font-headline text-2xl",tabIndex:-1,children:"Quais s\xe3o suas \xe1reas de atua\xe7\xe3o?"}),(0,t.jsx)(y.BT,{className:"mt-2 text-base",children:"Selecione uma ou mais \xe1reas para personalizarmos os templates e sugest\xf5es de conte\xfado."}),s.length>0&&(0,t.jsx)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 rounded-lg border border-green-200 bg-green-50 p-3 dark:border-green-800 dark:bg-green-950",children:(0,t.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200",children:["✓ ",s.length," \xe1rea",s.length>1?"s":""," selecionada",s.length>1?"s":""]})})]}),(0,t.jsxs)(y.Wu,{className:"space-y-8",children:[(0,t.jsx)(k,{control:a.control,name:"areas_atuacao",render:e=>{let{field:a}=e;return(0,t.jsxs)(P,{className:"w-full",children:[(0,t.jsx)(S,{children:(0,t.jsx)(O,{type:"multiple",variant:"outline",value:a.value,onValueChange:a.onChange,className:"flex flex-wrap justify-center gap-3",children:G.c.map((e,a)=>(0,t.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:(0,t.jsx)(T,{value:e,className:"h-auto px-4 py-3 text-sm font-medium transition-all hover:scale-105 data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:e})},e))})}),(0,t.jsx)(D,{className:"pt-2 text-center"})]})}}),(0,t.jsx)(i.P.div,{className:"flex justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsx)(b.$,{type:"submit",size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 px-8 py-6 text-lg hover:from-primary/90 hover:to-primary",disabled:r||0===s.length,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"mr-2 size-5 animate-spin"}),"Finalizando..."]}):(0,t.jsxs)(t.Fragment,{children:["Finalizar Configura\xe7\xe3o",(0,t.jsx)(u.A,{className:"ml-2 size-5"})]})})})]})]})})}function L(){let[e,a]=(0,f.useState)(1),{user:r,userProfile:l,updateUserProfileState:n}=(0,F.A)(),[c,d]=(0,f.useState)(!1),u=(0,x.useRouter)(),{focusHeading:m,AnnouncementRegion:p}=(0,J.v)(),h=(0,g.mN)({resolver:(0,s.u)(U),defaultValues:{cargo:void 0,areas_atuacao:[]}});async function b(e){if(r&&l){d(!0);try{let a={...e,primeiro_acesso:!1,initial_setup_complete:!1},t=await (0,B.eg)(r.uid,a);t.success?(n(a),u.push("/onboarding/success")):console.error("Erro ao salvar perfil:",t.error)}catch(e){console.error("Erro n\xe3o tratado ao salvar perfil:",e)}finally{d(!1)}}}let y=e=>{a(e),setTimeout(()=>{2===e?m("role-step-title","Avan\xe7ado para sele\xe7\xe3o de cargo"):3===e&&m("areas-step-title","Avan\xe7ado para sele\xe7\xe3o de \xe1reas de atua\xe7\xe3o")},100)};return(0,t.jsxs)("div",{className:"to-primary/3 flex min-h-screen flex-col items-center justify-center bg-gradient-to-br from-background via-background p-4",children:[(0,t.jsx)("div",{className:"bg-grid-slate-100/50 dark:bg-grid-slate-800/50 absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)]"}),(0,t.jsx)(p,{}),e>1&&(0,t.jsx)(i.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"fixed left-1/2 top-8 z-50 -translate-x-1/2",children:(0,t.jsxs)("div",{className:"surface-elevated shadow-apple-lg flex items-center gap-4 rounded-full border-2 border-border/50 px-6 py-3 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"size-3 rounded-full transition-all duration-500 ".concat(e>=2?"shadow-apple-sm bg-primary":"bg-muted-foreground/30")}),(0,t.jsx)("div",{className:"size-3 rounded-full transition-all duration-500 ".concat(e>=3?"shadow-apple-sm bg-primary":"bg-muted-foreground/30")}),(0,t.jsxs)("span",{className:"text-caption ml-2 font-medium",children:["Etapa ",e-1," de 2"]})]})}),(0,t.jsx)("div",{className:"relative z-10 flex w-full flex-col items-center",children:(0,t.jsxs)(o.N,{mode:"wait",children:[1===e&&(0,t.jsx)(V,{onNext:()=>y(2)},"welcome"),e>1&&(0,t.jsx)(w,{...h,children:(0,t.jsxs)("form",{onSubmit:h.handleSubmit(b),className:"flex w-full max-w-4xl flex-col items-center",children:[2===e&&(0,t.jsx)(q,{form:h,onNext:()=>y(3)},"role"),3===e&&(0,t.jsx)(H,{form:h,isSubmitting:c},"areas")]})})]})})]})}},8030:(e,a,r)=>{"use strict";r.d(a,{A:()=>u,AuthProvider:()=>d});var t=r(5155),s=r(3004),i=r(5695),o=r(2115),l=r(6104),n=r(9623);let c=(0,o.createContext)({user:null,userProfile:null,loading:!0,error:null,login:async()=>{},signup:async()=>{},loginWithGoogle:async()=>{},logout:()=>{},updateUserProfileState:()=>{},clearError:()=>{}}),d=e=>{let{children:a}=e,[r,d]=(0,o.useState)(null),[u,m]=(0,o.useState)(null),[p,x]=(0,o.useState)(!0),[f,g]=(0,o.useState)(null),h=(0,i.useRouter)();(0,o.useEffect)(()=>{if(!l.G){let e=localStorage.getItem("lexai_mock_user"),a=localStorage.getItem("lexai_mock_userProfile");e&&d(JSON.parse(e)),a&&m(JSON.parse(a)),x(!1);return}let e=(0,s.xI)(l.x),a=(0,s.hg)(e,async e=>{x(!0);try{if(e){d(e);let a=await (0,n.VM)(e.uid);a.success&&a.data?m(a.data):(console.error("Erro ao carregar perfil do usu\xe1rio:",a.error),m(null))}else d(null),m(null)}catch(e){console.error("Erro n\xe3o tratado no onAuthStateChanged:",e),d(null),m(null)}finally{x(!1)}});return()=>a()},[]);let b=(e,a)=>({uid:"test-user-123",email:e||"test@lexai.com",displayName:a||"Advogado Teste"}),y=e=>({uid:"new-user-".concat(Date.now()),email:e||"novo@lexai.com",displayName:"Novo Usu\xe1rio"}),v=async(e,a)=>{try{if(x(!0),g(null),l.G){let r=(0,s.xI)(l.x);await (0,s.x9)(r,e,a),h.push("/")}else if("test@lexai.com"===e&&"test123"===a){let e=b();d(e);let a={cargo:"Advogado(a)",areas_atuacao:["Direito Civil"],primeiro_acesso:!1,initial_setup_complete:!0,data_criacao:new Date,workspaces:[{name:"Workspace Pessoal"}]};m(a),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(a)),h.push("/")}else throw Error("Email ou senha incorretos")}catch(e){console.error("Erro no login:",e),g(e.message||"Erro ao fazer login")}finally{x(!1)}},j=async(e,a,r)=>{try{if(x(!0),g(null),l.G){let r=(0,s.xI)(l.x);await (0,s.eJ)(r,e,a),h.push("/onboarding")}else{let a=y(e);d(a);let t={cargo:(null==r?void 0:r.cargo)||"",areas_atuacao:(null==r?void 0:r.areas_atuacao)||[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};m(t),localStorage.setItem("lexai_mock_user",JSON.stringify(a)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(t)),h.push("/onboarding")}}catch(e){console.error("Erro no cadastro:",e),g(e.message||"Erro ao criar conta")}finally{x(!1)}},N=async()=>{try{if(x(!0),g(null),l.G){let e=(0,s.xI)(l.x),a=new s.HF;await (0,s.df)(e,a),h.push("/")}else{let e=b("google@lexai.com","Usu\xe1rio Google");d(e);let a={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};m(a),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(a)),h.push("/onboarding")}}catch(e){console.error("Erro no login com Google:",e),g(e.message||"Erro ao fazer login com Google")}finally{x(!1)}};return(0,t.jsx)(c.Provider,{value:{user:r,userProfile:u,loading:p,error:f,login:v,signup:j,loginWithGoogle:N,logout:()=>{if(l.G){let e=(0,s.xI)(l.x);(0,s.CI)(e)}else d(null),m(null),localStorage.removeItem("lexai_mock_user"),localStorage.removeItem("lexai_mock_userProfile"),h.push("/login")},updateUserProfileState:e=>{m(a=>{let r=a?{...a,...e}:null;return!l.G&&r&&localStorage.setItem("lexai_mock_userProfile",JSON.stringify(r)),r})},clearError:()=>{g(null)}},children:a})},u=()=>{let e=(0,o.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9409:(e,a,r)=>{"use strict";r.d(a,{bq:()=>m,eb:()=>g,gC:()=>f,l6:()=>d,yv:()=>u});var t=r(5155),s=r(6863),i=r(9556),o=r(7381),l=r(518),n=r(2115),c=r(9434);let d=s.bL;s.YJ;let u=s.WT,m=n.forwardRef((e,a)=>{let{className:r,children:o,...l}=e;return(0,t.jsxs)(s.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[o,(0,t.jsx)(s.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"size-4 opacity-50"})})]})});m.displayName=s.l9.displayName;let p=n.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)(s.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,t.jsx)(o.A,{className:"size-4"})})});p.displayName=s.PP.displayName;let x=n.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(s.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",r),...o,children:(0,t.jsx)(i.A,{className:"size-4"})})});x.displayName=s.wn.displayName;let f=n.forwardRef((e,a)=>{let{className:r,children:i,position:o="popper",...l}=e;return(0,t.jsx)(s.ZL,{children:(0,t.jsxs)(s.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...l,children:[(0,t.jsx)(p,{}),(0,t.jsx)(s.LM,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,t.jsx)(x,{})]})})});f.displayName=s.UC.displayName,n.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)(s.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...i})}).displayName=s.JU.displayName;let g=n.forwardRef((e,a)=>{let{className:r,children:i,...o}=e;return(0,t.jsxs)(s.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(s.VF,{children:(0,t.jsx)(l.A,{className:"size-4"})})}),(0,t.jsx)(s.p4,{children:i})]})});g.displayName=s.q7.displayName,n.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)(s.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",r),...i})}).displayName=s.wv.displayName},9434:(e,a,r)=>{"use strict";r.d(a,{cn:()=>i});var t=r(2596),s=r(9688);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}},9623:(e,a,r)=>{"use strict";r.d(a,{VM:()=>l,eg:()=>c});var t=r(5317),s=r(6104);let i=s.G?(0,t.aU)(s.x):null;function o(e,a){return e instanceof Error?"code"in e?{code:e.code,message:function(e){switch(e){case"permission-denied":return"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.";case"not-found":return"Dados n\xe3o encontrados.";case"unavailable":return"Servi\xe7o temporariamente indispon\xedvel. Tente novamente.";case"cancelled":return"Opera\xe7\xe3o cancelada.";case"deadline-exceeded":return"Tempo limite excedido. Verifique sua conex\xe3o.";case"unauthenticated":return"Voc\xea precisa estar logado para realizar esta a\xe7\xe3o.";default:return"Ocorreu um erro inesperado. Tente novamente."}}(e.code),details:e.message}:{code:"unknown",message:"Erro durante ".concat(a,": ").concat(e.message),details:e.stack}:{code:"unknown",message:"Erro desconhecido durante ".concat(a),details:String(e)}}async function l(e){try{if(!s.G||!i)return{data:{cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},error:null,success:!0};if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};let r=(0,t.H9)(i,"usuarios",e),o=await (0,t.x7)(r);if(o.exists()){var a;let e=o.data();return{data:{...e,workspaces:e.workspaces||[],initial_setup_complete:null!=(a=e.initial_setup_complete)&&a},error:null,success:!0}}{let a={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},r=await n(e,{...a,data_criacao:new Date});if(!r.success)return{data:null,error:r.error,success:!1};return{data:r.data,error:null,success:!0}}}catch(e){return console.error("Erro em getUserProfile:",e),{data:null,error:o(e,"buscar perfil do usu\xe1rio"),success:!1}}}async function n(e,a){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!a)return{data:null,error:{code:"invalid-argument",message:"Dados do perfil s\xe3o obrigat\xf3rios."},success:!1};if(!s.G||!i)return console.log("[MOCK] Criando perfil para usu\xe1rio ".concat(e),a),{data:{...a,initial_setup_complete:a.initial_setup_complete||!1,data_criacao:new Date,workspaces:a.workspaces||[]},error:null,success:!0};let r=(0,t.H9)(i,"usuarios",e),o={...a,initial_setup_complete:a.initial_setup_complete||!1,data_criacao:(0,t.O5)(),workspaces:a.workspaces||[]};return await (0,t.BN)(r,o),{data:{...o,data_criacao:new Date},error:null,success:!0}}catch(e){return console.error("Erro em createUserProfile:",e),{data:null,error:o(e,"criar perfil do usu\xe1rio"),success:!1}}}async function c(e,a){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!a||0===Object.keys(a).length)return{data:null,error:{code:"invalid-argument",message:"Dados para atualiza\xe7\xe3o s\xe3o obrigat\xf3rios."},success:!1};if(!s.G||!i)return console.log("[MOCK] Atualizando perfil para usu\xe1rio ".concat(e),a),{data:a,error:null,success:!0};let r=(0,t.H9)(i,"usuarios",e),o={...a};return delete o.data_criacao,await (0,t.BN)(r,o,{merge:!0}),{data:o,error:null,success:!0}}catch(e){return console.error("Erro em updateUserProfile:",e),{data:null,error:o(e,"atualizar perfil do usu\xe1rio"),success:!1}}}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,3644,6408,5186,1365,167,8659,5630,8968,8441,1684,7358],()=>a(5411)),_N_E=e.O()}]);