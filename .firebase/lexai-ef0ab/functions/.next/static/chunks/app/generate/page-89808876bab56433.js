(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2197,3456],{172:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},255:(e,a,r)=>{"use strict";function t(e){let{moduleIds:a}=e;return null}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return t}}),r(5155),r(7650),r(5744),r(589)},1450:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>u});var t=r(5155),o=r(6408),s=r(4601),n=r(172),i=r(5028),l=r(8010);let c=(0,i.default)(()=>Promise.all([r.e(5186),r.e(2737),r.e(3467),r.e(8723),r.e(1940),r.e(278)]).then(r.bind(r,1940)).then(e=>({default:e.GenerationWizard})),{loadableGenerated:{webpack:()=>[1940]},loading:()=>(0,t.jsx)("div",{className:"flex min-h-[600px] items-center justify-center bg-gradient-to-br from-background via-background to-primary/5",children:(0,t.jsxs)(o.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"flex flex-col items-center gap-6 p-8",children:[(0,t.jsxs)(o.P.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"relative",children:[(0,t.jsx)(s.A,{className:"size-12 text-primary"}),(0,t.jsx)(o.P.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0",children:(0,t.jsx)(n.A,{className:"size-12 text-primary/60"})})]}),(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)(o.P.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg font-semibold",children:"Preparando seu assistente jur\xeddico"}),(0,t.jsx)(o.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"max-w-md text-sm text-muted-foreground",children:"Carregando ferramentas de IA especializadas para gera\xe7\xe3o de documentos jur\xeddicos..."})]}),(0,t.jsxs)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)("div",{className:"size-2 animate-pulse rounded-full bg-primary"}),(0,t.jsx)("span",{children:"Intelig\xeancia Artificial Especializada"})]})]})})});function u(){return(0,t.jsx)(l.OnboardingGuard,{children:(0,t.jsx)(c,{})})}},2146:(e,a,r)=>{"use strict";function t(e){let{reason:a,children:r}=e;return r}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return t}}),r(5262)},3501:(e,a,r)=>{Promise.resolve().then(r.bind(r,1450))},4054:(e,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var r in a)Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}(a,{bindSnapshot:function(){return n},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return i}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class t{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let o="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return o?new o:new t}function n(e){return o?o.bind(e):t.bind(e)}function i(){return o?o.snapshot():function(e,...a){return e(...a)}}},4601:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(157).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},5028:(e,a,r)=>{"use strict";r.d(a,{default:()=>o.a});var t=r(6645),o=r.n(t)},5744:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"workAsyncStorage",{enumerable:!0,get:function(){return t.workAsyncStorageInstance}});let t=r(7828)},6104:(e,a,r)=>{"use strict";r.d(a,{G:()=>n,x:()=>i});var t=r(6864),o=r(3915);let s={apiKey:"AIzaSyBlznzwe_cuk3X2QCXHYpqCx6UGh1HOxSI",authDomain:"lexai-ef0ab.firebaseapp.com",projectId:"lexai-ef0ab",storageBucket:"lexai-ef0ab.firebasestorage.app",messagingSenderId:"506027619372",appId:"1:506027619372:web:9ccd54f560d1abbc970d89"},n="your-api-key"!==s.apiKey,i=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)(s);n&&(0,t.P5)(i)},6645:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let t=r(8229)._(r(7357));function o(e,a){var r;let o={};"function"==typeof e&&(o.loader=e);let s={...o,...a};return(0,t.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},7357:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l}});let t=r(5155),o=r(2115),s=r(2146);function n(e){return{default:e&&"default"in e?e.default:e}}r(255);let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},l=function(e){let a={...i,...e},r=(0,o.lazy)(()=>a.loader().then(n)),l=a.loading;function c(e){let n=l?(0,t.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,i=!a.ssr||!!a.loading,c=i?o.Suspense:o.Fragment,u=a.ssr?(0,t.jsxs)(t.Fragment,{children:[null,(0,t.jsx)(r,{...e})]}):(0,t.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(r,{...e})});return(0,t.jsx)(c,{...i?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},7828:(e,a,r)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"workAsyncStorageInstance",{enumerable:!0,get:function(){return t}});let t=(0,r(4054).createAsyncLocalStorage)()},8010:(e,a,r)=>{"use strict";r.d(a,{OnboardingGuard:()=>l});var t=r(5155),o=r(172),s=r(5695),n=r(2115),i=r(8030);function l(e){let{children:a}=e,{user:r,loading:l,userProfile:c}=(0,i.A)(),u=(0,s.useRouter)(),d=(0,s.usePathname)(),[p,f]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(l||!u)return;let e="/login"===d||"/signup"===d;if(!r)return void(e?f(!0):u.replace("/login"));if(c){if(c.primeiro_acesso)return void("/onboarding"!==d?u.replace("/onboarding"):f(!0));if(!c.initial_setup_complete)return void(["/workspace","/workspace/success","/agente/criar","/settings","/onboarding/success"].some(e=>d.startsWith(e))?f(!0):u.replace("/workspace"));["/login","/signup","/onboarding","/workspace","/workspace/success"].some(e=>d.startsWith(e))?u.replace("/"):f(!0)}},[r,c,l,d,u]),p)?(0,t.jsx)(t.Fragment,{children:a}):(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,t.jsx)(o.A,{className:"size-8 animate-spin text-primary"})})}},8030:(e,a,r)=>{"use strict";r.d(a,{A:()=>d,AuthProvider:()=>u});var t=r(5155),o=r(3004),s=r(5695),n=r(2115),i=r(6104),l=r(9623);let c=(0,n.createContext)({user:null,userProfile:null,loading:!0,error:null,login:async()=>{},signup:async()=>{},loginWithGoogle:async()=>{},logout:()=>{},updateUserProfileState:()=>{},clearError:()=>{}}),u=e=>{let{children:a}=e,[r,u]=(0,n.useState)(null),[d,p]=(0,n.useState)(null),[f,m]=(0,n.useState)(!0),[g,y]=(0,n.useState)(null),_=(0,s.useRouter)();(0,n.useEffect)(()=>{if(!i.G){let e=localStorage.getItem("lexai_mock_user"),a=localStorage.getItem("lexai_mock_userProfile");e&&u(JSON.parse(e)),a&&p(JSON.parse(a)),m(!1);return}let e=(0,o.xI)(i.x),a=(0,o.hg)(e,async e=>{m(!0);try{if(e){u(e);let a=await (0,l.VM)(e.uid);a.success&&a.data?p(a.data):(console.error("Erro ao carregar perfil do usu\xe1rio:",a.error),p(null))}else u(null),p(null)}catch(e){console.error("Erro n\xe3o tratado no onAuthStateChanged:",e),u(null),p(null)}finally{m(!1)}});return()=>a()},[]);let x=(e,a)=>({uid:"test-user-123",email:e||"test@lexai.com",displayName:a||"Advogado Teste"}),h=e=>({uid:"new-user-".concat(Date.now()),email:e||"novo@lexai.com",displayName:"Novo Usu\xe1rio"}),b=async(e,a)=>{try{if(m(!0),y(null),i.G){let r=(0,o.xI)(i.x);await (0,o.x9)(r,e,a),_.push("/")}else if("test@lexai.com"===e&&"test123"===a){let e=x();u(e);let a={cargo:"Advogado(a)",areas_atuacao:["Direito Civil"],primeiro_acesso:!1,initial_setup_complete:!0,data_criacao:new Date,workspaces:[{name:"Workspace Pessoal"}]};p(a),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(a)),_.push("/")}else throw Error("Email ou senha incorretos")}catch(e){console.error("Erro no login:",e),y(e.message||"Erro ao fazer login")}finally{m(!1)}},v=async(e,a,r)=>{try{if(m(!0),y(null),i.G){let r=(0,o.xI)(i.x);await (0,o.eJ)(r,e,a),_.push("/onboarding")}else{let a=h(e);u(a);let t={cargo:(null==r?void 0:r.cargo)||"",areas_atuacao:(null==r?void 0:r.areas_atuacao)||[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};p(t),localStorage.setItem("lexai_mock_user",JSON.stringify(a)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(t)),_.push("/onboarding")}}catch(e){console.error("Erro no cadastro:",e),y(e.message||"Erro ao criar conta")}finally{m(!1)}},w=async()=>{try{if(m(!0),y(null),i.G){let e=(0,o.xI)(i.x),a=new o.HF;await (0,o.df)(e,a),_.push("/")}else{let e=x("google@lexai.com","Usu\xe1rio Google");u(e);let a={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]};p(a),localStorage.setItem("lexai_mock_user",JSON.stringify(e)),localStorage.setItem("lexai_mock_userProfile",JSON.stringify(a)),_.push("/onboarding")}}catch(e){console.error("Erro no login com Google:",e),y(e.message||"Erro ao fazer login com Google")}finally{m(!1)}};return(0,t.jsx)(c.Provider,{value:{user:r,userProfile:d,loading:f,error:g,login:b,signup:v,loginWithGoogle:w,logout:()=>{if(i.G){let e=(0,o.xI)(i.x);(0,o.CI)(e)}else u(null),p(null),localStorage.removeItem("lexai_mock_user"),localStorage.removeItem("lexai_mock_userProfile"),_.push("/login")},updateUserProfileState:e=>{p(a=>{let r=a?{...a,...e}:null;return!i.G&&r&&localStorage.setItem("lexai_mock_userProfile",JSON.stringify(r)),r})},clearError:()=>{y(null)}},children:a})},d=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9623:(e,a,r)=>{"use strict";r.d(a,{VM:()=>i,eg:()=>c});var t=r(5317),o=r(6104);let s=o.G?(0,t.aU)(o.x):null;function n(e,a){return e instanceof Error?"code"in e?{code:e.code,message:function(e){switch(e){case"permission-denied":return"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.";case"not-found":return"Dados n\xe3o encontrados.";case"unavailable":return"Servi\xe7o temporariamente indispon\xedvel. Tente novamente.";case"cancelled":return"Opera\xe7\xe3o cancelada.";case"deadline-exceeded":return"Tempo limite excedido. Verifique sua conex\xe3o.";case"unauthenticated":return"Voc\xea precisa estar logado para realizar esta a\xe7\xe3o.";default:return"Ocorreu um erro inesperado. Tente novamente."}}(e.code),details:e.message}:{code:"unknown",message:"Erro durante ".concat(a,": ").concat(e.message),details:e.stack}:{code:"unknown",message:"Erro desconhecido durante ".concat(a),details:String(e)}}async function i(e){try{if(!o.G||!s)return{data:{cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},error:null,success:!0};if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};let r=(0,t.H9)(s,"usuarios",e),n=await (0,t.x7)(r);if(n.exists()){var a;let e=n.data();return{data:{...e,workspaces:e.workspaces||[],initial_setup_complete:null!=(a=e.initial_setup_complete)&&a},error:null,success:!0}}{let a={cargo:"",areas_atuacao:[],primeiro_acesso:!0,initial_setup_complete:!1,data_criacao:new Date,workspaces:[]},r=await l(e,{...a,data_criacao:new Date});if(!r.success)return{data:null,error:r.error,success:!1};return{data:r.data,error:null,success:!0}}}catch(e){return console.error("Erro em getUserProfile:",e),{data:null,error:n(e,"buscar perfil do usu\xe1rio"),success:!1}}}async function l(e,a){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!a)return{data:null,error:{code:"invalid-argument",message:"Dados do perfil s\xe3o obrigat\xf3rios."},success:!1};if(!o.G||!s)return console.log("[MOCK] Criando perfil para usu\xe1rio ".concat(e),a),{data:{...a,initial_setup_complete:a.initial_setup_complete||!1,data_criacao:new Date,workspaces:a.workspaces||[]},error:null,success:!0};let r=(0,t.H9)(s,"usuarios",e),n={...a,initial_setup_complete:a.initial_setup_complete||!1,data_criacao:(0,t.O5)(),workspaces:a.workspaces||[]};return await (0,t.BN)(r,n),{data:{...n,data_criacao:new Date},error:null,success:!0}}catch(e){return console.error("Erro em createUserProfile:",e),{data:null,error:n(e,"criar perfil do usu\xe1rio"),success:!1}}}async function c(e,a){try{if(!e||""===e.trim())return{data:null,error:{code:"invalid-argument",message:"ID do usu\xe1rio \xe9 obrigat\xf3rio."},success:!1};if(!a||0===Object.keys(a).length)return{data:null,error:{code:"invalid-argument",message:"Dados para atualiza\xe7\xe3o s\xe3o obrigat\xf3rios."},success:!1};if(!o.G||!s)return console.log("[MOCK] Atualizando perfil para usu\xe1rio ".concat(e),a),{data:a,error:null,success:!0};let r=(0,t.H9)(s,"usuarios",e),n={...a};return delete n.data_criacao,await (0,t.BN)(r,n,{merge:!0}),{data:n,error:null,success:!0}}catch(e){return console.error("Erro em updateUserProfile:",e),{data:null,error:n(e,"atualizar perfil do usu\xe1rio"),success:!1}}}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,3644,6408,1365,8441,1684,7358],()=>a(3501)),_N_E=e.O()}]);