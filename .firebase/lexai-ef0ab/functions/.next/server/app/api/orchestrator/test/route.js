"use strict";(()=>{var e={};e.id=377,e.ids=[377],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},77877:(e,t,o)=>{o.r(t),o.d(t,{patchFetch:()=>T,routeModule:()=>u,serverHooks:()=>x,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>l});var s={};o.r(s),o.d(s,{GET:()=>d,POST:()=>p});var r=o(96559),a=o(48088),n=o(37719),i=o(32190),c=o(39133);async function p(e){try{let t=await e.json(),o=!1!==t.simple,s=o?{taskType:"document_generation",documentType:"brief",legalArea:"civil",instructions:"Gerar um resumo simples de teste para validar a integra\xe7\xe3o da API.",context:[{type:"ocr_text",content:"Este \xe9 um documento de teste para valida\xe7\xe3o da API. Cont\xe9m informa\xe7\xf5es b\xe1sicas para processamento.",source:"test_document.txt"}]}:{taskType:"document_generation",documentType:"petition",legalArea:"civil",instructions:"Gerar uma peti\xe7\xe3o inicial completa baseada nos documentos anexados, incluindo fundamenta\xe7\xe3o jur\xeddica detalhada.",context:[{type:"ocr_text",content:`CONTRATO DE PRESTA\xc7\xc3O DE SERVI\xc7OS
        
        Partes: Jo\xe3o Silva (contratante) e Empresa XYZ (contratada)
        Objeto: Presta\xe7\xe3o de servi\xe7os de consultoria
        Valor: R$ 10.000,00
        Prazo: 30 dias
        
        Cl\xe1usula 5: Em caso de inadimplemento, ser\xe1 aplicada multa de 10%.`,source:"contrato.pdf"},{type:"file_content",content:"Notifica\xe7\xe3o extrajudicial enviada em 15/01/2024 cobrando o pagamento em atraso.",source:"notificacao.pdf"}]};console.log("[API TEST] Iniciando teste do orquestrador:",{type:o?"simple":"complex",timestamp:new Date().toISOString()});let r=Date.now(),a=await (0,c.xb)(s),n=Date.now();if(console.log("[API TEST] Teste conclu\xeddo:",{success:a.success,processingTime:`${n-r}ms`,hasDocument:!!a.result?.content}),a.success&&a.result)return i.NextResponse.json({success:!0,result:{document:a.result.content,processingTime:a.metadata.processingTime,cost:a.metadata.totalCost,llmUsed:a.metadata.llmUsed.map(e=>`${e.provider}:${e.model}`)},debug:{input:s,timestamp:new Date().toISOString()}});return i.NextResponse.json({success:!1,error:{message:a.error?.message||"Teste falhou",code:a.error?.code||"TEST_FAILED"},debug:{input:s,timestamp:new Date().toISOString()}},{status:500})}catch(e){return console.error("[API TEST] Erro no teste do orquestrador:",e),i.NextResponse.json({success:!1,error:{message:"Erro interno no teste",code:"TEST_ERROR"}},{status:500})}}async function d(){return i.NextResponse.json({available_tests:[{type:"simple",description:"Teste b\xe1sico com dados m\xednimos",endpoint:"POST /api/orchestrator/test",body:{simple:!0}},{type:"complex",description:"Teste completo com documentos simulados",endpoint:"POST /api/orchestrator/test",body:{simple:!1}}],usage:'Envie POST com { "simple": true/false } para escolher o tipo de teste'})}let u=new r.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/orchestrator/test/route",pathname:"/api/orchestrator/test",filename:"route",bundlePath:"app/api/orchestrator/test/route"},resolvedPagePath:"/home/user/studio/src/app/api/orchestrator/test/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:l,serverHooks:x}=u;function T(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),s=t.X(0,[447,580,993],()=>o(77877));module.exports=s})();